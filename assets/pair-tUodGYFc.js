import{W as D,P as N,S as P,C as _,O as v,D as H,a as j,M as A,F as k,T as B,b as G}from"./TextGeometry-C1AcPNDw.js";const W="#myCanvas",I=[{end:{x:-2,y:0,z:-2},start:{x:3,y:0,z:3}},{end:{x:2,y:0,z:-2},start:{x:-3,y:0,z:3}}],q=1500,U=1.2,V="Touch to start",J="Happy Valentines Day!",b=[16758465,16738740,16761035,16716947],X=["Roses are red,","violets are blue","Honey is sweet,","and so are you."];let d=null,F=null,p=null,R=0,O=0,E=!1,w=!1,C=null,h=null,y=null,x=null,c=null;function K(){E=!0,R=new Date().getTime()}function Q(){E=!1,w=!w}function M(o,s,i){const e=new A({color:s}),t=new B(o,{font:C,size:80,depth:5,curveSegments:12,bevelEnabled:!0,bevelThickness:10,bevelSize:4,bevelOffset:0,bevelSegments:5});t.center();const a=new G(t,e);return a.scale.set(i,i,i),a}function Y(){const o=document.querySelector(W);F=new D({antialias:!0,canvas:o});const s=75,i=2,e=.1,t=500;d=new N(s,i,e,t),d.position.x=0,d.position.z=3,d.position.y=0,d.lookAt(0,0,0),p=new P,p.background=new _().setHex(16777215),F.render(p,d),h=new v,p.add(h),y=new v,h.add(y),x=new v,h.add(x),c=I.map((r,f)=>{const n=new v;return n.position.x=r.start.x,n.position.y=r.start.y,n.position.z=r.start.z,f%2===0&&(n.rotation.y=Math.PI/2),h.add(n),n});const a=16777215,m=3,l=new H(a,m);l.position.set(-1,2,4),p.add(l),new j().load("./models/heart-v2.obj",function(r){const f=new A({color:16711680});c==null||c.forEach((n,g)=>{const u=g===0?r:r.clone();u.traverse(T=>{T.material=f}),u.scale.set(.15,.15,.15),n.add(u)})},void 0,function(r){console.error(r)}),new k().load("./fonts/helvetiker_regular.typeface.json",function(r){C=r;const f=M(V,16716947,.002);f.position.z=1,f.position.y=-.5,y.add(f);const n=M(J,16761035,.0022);n.position.z=1,n.position.y=.5,y.add(n),X.map(function(u,T){const z=M(u,b[T%b.length],.003);return z.position.z=.5,z.position.y=.7-.4*T,z}).forEach(function(u){x.add(u)}),x.visible=!1}),window.requestAnimationFrame(L)}function L(o){o*=.001;let s=o-O;O=o;const i=s*U;if(c==null||c.forEach(e=>{let a=e.rotation.y+i;a>2*Math.PI&&(a-=2*Math.PI),e.rotation.y=a}),E){const e=(new Date().getTime()-R)/q;e>1?Q():(c==null||c.forEach((t,a)=>{const m=I[a],l=w?m.end:m.start,S=w?m.start:m.end;t.position.x=l.x+(S.x-l.x)*e,t.position.y=l.y+(S.y-l.y)*e,t.position.z=l.z+(S.z-l.z)*e}),e>.5&&(x.visible=!w,y.visible=w))}if($(F)){const e=F.domElement;d.aspect=e.clientWidth/e.clientHeight,d.updateProjectionMatrix()}F.render(p,d),window.requestAnimationFrame(L)}function Z(){E||K()}function $(o){const s=o.domElement,i=s.clientWidth,e=s.clientHeight,t=s.width!==i||s.height!==e;return t&&o.setSize(i,e,!1),t}window.addEventListener("load",function(){window.addEventListener("pointerdown",Z),Y()});
