import{W as L,P as R,S as z,C as b,O as v,D,a as A,M as T,F as k,T as H,b as O}from"./TextGeometry-C1AcPNDw.js";const N="#myCanvas",W=3,M=[14704864,6349024,6348928],w=[["Happy","Valentines Day!"],["Roses are red,","violets are blue"],["Honey is sweet,","and so are you."]],y=["Touch to start","Touch to continue"];let r=null,f=null,l=null,P=0,p=!1,d=0,g=null,c=null,h=null,m=null;function x(t,o,n){if(t.map(function(e,s){const u=F(e,M[d%M.length],.003);return u.position.z=1,u.position.y=.2-.3*s,u}).forEach(function(e){n.add(e)}),o){const e=F(o,8421376,.002);e.position.z=1,e.position.y=-1.3,n.add(e)}}function q(){p=!0,d=(d+1)%w.length;const t=c.rotation.y<Math.PI?m:h;x(w[d],d===0?y[0]:d<w.length-1?y[1]:null,t)}function _(){p=!1;const t=c.rotation.y<Math.PI?m:h;t.children.slice().forEach(function(n){t.remove(n)})}function F(t,o,n){const i=new T({color:o}),e=new H(t,{font:g,size:80,depth:5,curveSegments:12,bevelEnabled:!0,bevelThickness:10,bevelSize:4,bevelOffset:0,bevelSegments:5});e.center();const s=new O(e,i);return s.scale.set(n,n,n),s}function G(){const t=document.querySelector(N);f=new L({antialias:!0,canvas:t});const o=75,n=2,i=.1,e=500;r=new R(o,n,i,e),r.position.x=0,r.position.z=3,r.position.y=0,r.lookAt(0,0,0),l=new z,l.background=new b().setHex(16777215),f.render(l,r),c=new v,l.add(c),h=new v,c.add(h),m=new v,m.rotation.y=Math.PI,c.add(m);const s=16777215,u=3,S=new D(s,u);S.position.set(-1,2,4),l.add(S),new A().load("./models/heart-v2.obj",function(a){const C=new T({color:16711680});a.traverse(I=>{I.material=C}),a.position.x=0,a.position.y=-.4,a.position.z=0,a.scale.set(.15,.15,.15),c.add(a)},void 0,function(a){console.error(a)}),new k().load("./fonts/helvetiker_regular.typeface.json",function(a){g=a,x(w[0],y[0],h)}),window.requestAnimationFrame(E)}function E(t){t*=.001;let o=t-P;if(P=t,p){const n=o*W,i=c.rotation.y;let e=i+n,s=!1;e>=2*Math.PI?(e=0,s=!0):i<Math.PI&&e>=Math.PI&&(e=Math.PI,s=!0),c.rotation.y=e,s&&_()}if(B(f)){const n=f.domElement;r.aspect=n.clientWidth/n.clientHeight,r.updateProjectionMatrix()}f.render(l,r),window.requestAnimationFrame(E)}function V(){p||q()}function B(t){const o=t.domElement,n=o.clientWidth,i=o.clientHeight,e=o.width!==n||o.height!==i;return e&&t.setSize(n,i,!1),e}window.addEventListener("load",function(){window.addEventListener("pointerdown",V),G()});
